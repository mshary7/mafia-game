<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<link rel="icon" type="image/png" href="mafia.png" />
<meta name="description" content="๐ฅ ูุนุจุฉ ูุงููุง ุดูููุฉ ุชูุดู ุงููุงุฐุจ ูุชุฎุชุจุฑ ุฐูุงุกู... ุงูุนุจ ูุน ุฃุตุฏูุงุฆู ูุงูุชุดู ูู ุงููุฌุฑู!" />
<meta property="og:title" content="ูุนุจุฉ ุงููุงููุง ๐ญ" />
<meta property="og:description" content="๐ฅ ูุนุจุฉ ูุงููุง ุดูููุฉ ุชูุดู ุงููุงุฐุจ ูุชุฎุชุจุฑ ุฐูุงุกู... ุงูุนุจ ูุน ุฃุตุฏูุงุฆู ูุงูุชุดู ูู ุงููุฌุฑู!" />
<meta property="og:image" content="https://USERNAME.github.io/REPO_NAME/mafia.png" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุจุฉ ุงููุงููุง ุงูุนุฑุจูุฉ - ุงูุฅุตุฏุงุฑ ุงูุฃุณุทูุฑู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap');
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        .timer-circle {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1s linear;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in {
            animation: slideIn 0.6s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .role-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transform: perspective(1000px) rotateY(0deg);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .role-card:hover {
            transform: perspective(1000px) rotateY(5deg) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
        }
        
        .role-card.flipped {
            transform: perspective(1000px) rotateY(5deg) scale(1.05);
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
        }
        
        .glow {
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            to { box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 215, 0, 0.6); }
        }
        
        .eliminated {
            opacity: 0.4;
            text-decoration: line-through;
            filter: grayscale(100%);
            transition: all 0.3s ease;
        }
        
        .night-bg {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 100%);
            position: relative;
            overflow: hidden;
        }
        
        .night-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="white" opacity="0.8"/><circle cx="80" cy="30" r="0.5" fill="white" opacity="0.6"/><circle cx="40" cy="60" r="0.8" fill="white" opacity="0.7"/><circle cx="90" cy="80" r="0.6" fill="white" opacity="0.5"/><circle cx="10" cy="90" r="0.4" fill="white" opacity="0.8"/></svg>') repeat;
            animation: twinkle 4s ease-in-out infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.3; }
        }
        
        .day-bg {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 25%, #fd79a8 50%, #fdcb6e 100%);
            position: relative;
        }
        
        .day-bg::before {
            content: 'โ๏ธ';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            animation: rotate 10s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .selected-action {
            border-color: #fbbf24 !important;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(245, 158, 11, 0.2)) !important;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.4);
        }
        
        .selected-vote {
            border-color: #ef4444 !important;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.3), rgba(220, 38, 38, 0.2)) !important;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
        }
        
        .selected-skip {
            border-color: #6b7280 !important;
            background: linear-gradient(135deg, rgba(107, 114, 128, 0.3), rgba(75, 85, 99, 0.2)) !important;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(107, 114, 128, 0.4);
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .button-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .button-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.3s ease;
        }
        
        .card-3d:hover {
            transform: rotateX(5deg) rotateY(5deg);
        }
        
        /* ุชุญุณููุงุช ููุฌูุงู */
        @media (max-width: 768px) {
            .role-card {
                transform: none !important;
            }
            
            .role-card:hover {
                transform: scale(1.02) !important;
            }
            
            .card-3d:hover {
                transform: none;
            }
            
            .floating {
                animation: none;
            }
        }
        
        /* ุชุญุณููุงุช ูููุตูุต */
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .role-description {
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        /* ุชุญุณููุงุช ููุฃุฒุฑุงุฑ */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
            transform: translateY(-1px);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
        }
        
        /* ุชุญุณููุงุช ููุฅุญุตุงุฆูุงุช */
        .stat-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.1) 100%);
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="min-h-screen transition-all duration-500 bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900 relative overflow-x-hidden">
    
    <!-- ุฎูููุฉ ูุชุญุฑูุฉ -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse" style="animation-delay: 2s;"></div>
        <div class="absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse" style="animation-delay: 4s;"></div>
    </div>
    
    <!-- ุดุงุดุฉ ุงูุจุฏุงูุฉ -->
    <div id="startScreen" class="container mx-auto px-4 py-8 fade-in relative z-10">
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-7xl font-black mb-6 text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 floating text-shadow">
                ๐ต๏ธโโ๏ธ ูุนุจุฉ ุงููุงููุง ุงูุนุฑุจูุฉ
            </h1>
            <div class="text-xl md:text-2xl text-gray-300 mb-4 gradient-text font-bold">ุงูุฅุตุฏุงุฑ ุงูุฃุณุทูุฑู - ููุญูู ูุงูุฌูุงุนุฉ</div>
            <div class="text-sm md:text-base text-gray-400">ุชุฌุฑุจุฉ ูุนุจ ูุชูุงููุฉ ููุชูุงููุฉ ูุน ุฌููุน ุงูุฃุฌูุฒุฉ</div>
        </div>
        
        <div class="max-w-4xl mx-auto glass-effect rounded-3xl p-6 md:p-8 shadow-2xl card-3d">
            <!-- ุฅุถุงูุฉ ุงููุงุนุจูู -->
            <div class="mb-8">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-yellow-400 text-shadow">๐งโ๐คโ๐ง ุฅุถุงูุฉ ุงููุงุนุจูู</h3>
                <div class="flex flex-col sm:flex-row gap-3 mb-6">
                    <input type="text" id="playerNameInput" placeholder="ุงุณู ุงููุงุนุจ" 
                           class="flex-1 px-4 py-3 md:py-4 rounded-xl bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all text-lg">
                    <button onclick="addPlayer()" class="px-6 py-3 md:py-4 btn-success rounded-xl font-bold transition-all transform hover:scale-105 button-hover text-lg">
                        โ ุฅุถุงูุฉ
                    </button>
                </div>
                <div id="playersList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6"></div>
                <div class="text-center">
                    <p class="text-sm md:text-base text-gray-300 bg-white/10 rounded-lg p-3 inline-block">
                        <span class="font-bold text-green-400">ุงูุญุฏ ุงูุฃุฏูู:</span> 4 ูุงุนุจูู | 
                        <span class="font-bold text-red-400">ุงูุญุฏ ุงูุฃูุตู:</span> 15 ูุงุนุจ
                    </p>
                </div>
            </div>
            
            <!-- ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ -->
            <div class="mb-8">
                <h3 class="text-xl md:text-2xl font-bold mb-6 text-center text-blue-400 text-shadow">โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="glass-effect rounded-xl p-4">
                        <label class="block text-sm md:text-base font-bold mb-3 text-yellow-300">๐ฏ ุนุฏุฏ ุงูุฌููุงุช</label>
                        <select id="roundsCount" class="w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white focus:ring-2 focus:ring-blue-400 transition-all">
                            <option value="3">3 ุฌููุงุช (ุณุฑูุน)</option>
                            <option value="5" selected>5 ุฌููุงุช (ูุชูุณุท)</option>
                            <option value="7">7 ุฌููุงุช (ุทููู)</option>
                            <option value="10">10 ุฌููุงุช (ูุงุฑุงุซูู)</option>
                        </select>
                    </div>
                    <div class="glass-effect rounded-xl p-4">
                        <label class="block text-sm md:text-base font-bold mb-3 text-yellow-300">โฐ ููุช ุงูููุงุด</label>
                        <select id="discussionTime" class="w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white focus:ring-2 focus:ring-blue-400 transition-all">
                            <option value="60">ุฏูููุฉ ูุงุญุฏุฉ</option>
                            <option value="120" selected>ุฏูููุชุงู</option>
                            <option value="180">3 ุฏูุงุฆู</option>
                            <option value="300">5 ุฏูุงุฆู</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ุงูุฃุฏูุงุฑ ุงูุฅุถุงููุฉ -->
            <div class="mb-8">
                <h3 class="text-xl md:text-2xl font-bold mb-6 text-center text-purple-400 text-shadow">๐ญ ุงูุฃุฏูุงุฑ ุงูุฅุถุงููุฉ</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3" id="rolesConfig">
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="detective">
                        <div class="flex-1">
                            <div class="font-bold text-blue-300">๐ฎโโ๏ธ ุงููุญูู</div>
                            <div class="text-xs text-gray-400 role-description">ูุญูู ูู ูููุฉ ูุงุนุจ ูู ูููุฉ ููุนุฑู ุฅุฐุง ูุงู ูุงููุง ุฃู ูุง</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="doctor">
                        <div class="flex-1">
                            <div class="font-bold text-green-300">๐ฉบ ุงูุทุจูุจ</div>
                            <div class="text-xs text-gray-400 role-description">ูููุฐ ุดุฎุตุงู ูู ุงูููุช ูู ูููุฉ (ููููู ุฅููุงุฐ ููุณู)</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="sniper">
                        <div class="flex-1">
                            <div class="font-bold text-red-300">๐ซ ุงูููุงุต</div>
                            <div class="text-xs text-gray-400 role-description">ุฅุฐุง ุชู ุงูุชุตููุช ุนููู ููุชู ูุงุนุจุงู ุขุฎุฑ ูุจู ููุชู</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="oracle">
                        <div class="flex-1">
                            <div class="font-bold text-purple-300">๐ฎ ุงูุนุฑุงู</div>
                            <div class="text-xs text-gray-400 role-description">ูุนุฑู ุงูุฏูุฑ ุงูุญูููู ูุงููุงูู ููุงุนุจ ูู ูููุฉ</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="mute">
                        <div class="flex-1">
                            <div class="font-bold text-gray-300">๐ค ุงูุฃุฎุฑุณ</div>
                            <div class="text-xs text-gray-400 role-description">ููููุน ูู ุงูููุงู ุฃุซูุงุก ุงูููุงุด - ุฅุฐุง ุชููู ูุฎุฑุฌ ููุฑุงู</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="bomber">
                        <div class="flex-1">
                            <div class="font-bold text-orange-300">๐ฃ ุงูููุชุญุฑ</div>
                            <div class="text-xs text-gray-400 role-description">ูุฏูู ุฃู ูุชู ุงูุชุตููุช ุนููู ููููุฒ ูุญุฏู ุถุฏ ุงูุฌููุน</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="zombie">
                        <div class="flex-1">
                            <div class="font-bold text-green-300">๐งโโ๏ธ ุงูุฒููุจู</div>
                            <div class="text-xs text-gray-400 role-description">ุฅุฐุง ูุงุช ูุนูุฏ ููุญูุงุฉ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ุงููุนุจุฉ</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="disguise">
                        <div class="flex-1">
                            <div class="font-bold text-pink-300">๐ญ ุงููุชููุฑ</div>
                            <div class="text-xs text-gray-400 role-description">ููููู ุชุบููุฑ ูููุชู ูุฑุฉ ูุงุญุฏุฉ ุฃุซูุงุก ุงููุนุจุฉ</div>
                        </div>
                    </label>
                    <label class="flex items-center space-x-3 space-x-reverse glass-effect p-4 rounded-xl cursor-pointer hover:bg-white/20 transition-all transform hover:scale-105 card-3d">
                        <input type="checkbox" class="form-checkbox text-yellow-400 w-5 h-5" data-role="survivor">
                        <div class="flex-1">
                            <div class="font-bold text-yellow-300">๐งโ๐ค ุงููุงุฌู</div>
                            <div class="text-xs text-gray-400 role-description">ูุฏูู ุงูุจูุงุก ุญูุงู ุญุชู ููุงูุฉ ุงููุนุจุฉ ููููุฒ ูููุฑุฏุงู</div>
                        </div>
                    </label>
                </div>
            </div>
            
            <button onclick="startGame()" id="startGameBtn" disabled 
                    class="w-full py-4 md:py-5 bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 rounded-xl font-bold text-xl md:text-2xl text-black transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none glow button-hover">
                ๐ ุจุฏุก ุงููุนุจุฉ ุงูุฃุณุทูุฑูุฉ
            </button>
        </div>
        
        <!-- ูุณู ุดุฑุญ ุงููุนุจุฉ ูููุจุชุฏุฆูู -->
        <div class="max-w-6xl mx-auto mt-12 glass-effect rounded-3xl p-6 md:p-8 shadow-2xl card-3d">
            <h2 class="text-2xl md:text-4xl font-bold mb-8 text-center text-cyan-400 text-shadow">๐งฉ ุดุฑุญ ูุนุจุฉ ุงููุงููุง ุงูุนุฑุจูุฉ ูููุจุชุฏุฆูู</h2>
            
            <!-- ุงูุดุฑุญ ุงูุฃุณุงุณู -->
            <div class="glass-effect rounded-xl p-4 md:p-6 mb-6">
                <div class="text-sm md:text-base text-gray-200 leading-relaxed space-y-4">
                    <p class="font-bold text-yellow-300 text-lg">ูุนุจุฉ ุงููุงููุง ูู ูุนุจุฉ ุฌูุงุนูุฉ ุชุฌูุน ุจูู ุงูุฐูุงุก ูุงูุญูุงุฑุ ุชููุณู ุงููุฌููุนุฉ ุฅูู ูุฑูููู ุฑุฆูุณููู:</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
                        <div class="bg-red-500/20 border border-red-400/50 rounded-lg p-4">
                            <h4 class="font-bold text-red-400 mb-2 text-lg">๐ต๏ธโโ๏ธ ุงููุงููุง</h4>
                            <p class="text-sm">ูุฏููู ุงููุถุงุก ุนูู ุงููุฏูููู ุฏูู ุฃู ูุชู ุงูุชุดุงููู</p>
                        </div>
                        <div class="bg-green-500/20 border border-green-400/50 rounded-lg p-4">
                            <h4 class="font-bold text-green-400 mb-2 text-lg">๐งโ๐คโ๐ง ุงููุฏูููู</h4>
                            <p class="text-sm">ูุฏููู ูุดู ุงููุงููุง ูุงูุชุตููุช ุนูููู ูุฅุฎุฑุงุฌูู</p>
                        </div>
                    </div>
                    
                    <div class="bg-white/10 rounded-lg p-4">
                        <h4 class="font-bold text-yellow-300 mb-3 text-lg">๐ ุทุฑููุฉ ุงููุนุจ ุจุงุฎุชุตุงุฑ:</h4>
                        <ol class="text-sm space-y-2 list-decimal list-inside">
                            <li>ูุชู ุฅุฏุฎุงู ุฃุณูุงุก ุงููุงุนุจูู ูุชูุฒูุน ุงูุฃุฏูุงุฑ ุณุฑูุง (ูู ูุงุนุจ ูุฑู ุฏูุฑู ููุท)</li>
                            <li class="font-bold text-blue-300">ุงููุนุจุฉ ุชุฏูุฑ ูู ุฌููุงุช ููู ูููุงุฑ:</li>
                        </ol>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div class="bg-blue-900/30 rounded-lg p-3">
                                <h5 class="font-bold text-blue-300 mb-2">๐ ูู ุงูููู:</h5>
                                <ul class="text-xs space-y-1">
                                    <li>โข ุงููุงููุง ููุฑุฑูู ูู ููุชููู</li>
                                    <li>โข ุงูุทุจูุจ ูููุฐ ุดุฎุตูุง</li>
                                    <li>โข ุงููุญูู ูุงูุนุฑุงู ูุญูููู ูู ูููุฉ ุฃุญุฏ ุงููุงุนุจูู</li>
                                </ul>
                            </div>
                            <div class="bg-yellow-900/30 rounded-lg p-3">
                                <h5 class="font-bold text-yellow-300 mb-2">โ๏ธ ูู ุงูููุงุฑ:</h5>
                                <ul class="text-xs space-y-1">
                                    <li>โข ุฌููุน ุงููุงุนุจูู ููุงูุดูู ูู ุงููุงููุง</li>
                                    <li>โข ุซู ูุตูุช ูู ูุงุนุจ ูุทุฑุฏ ุฃุญุฏ ุงููุดููู ุจูู</li>
                                    <li>โข ูู ูุญุตู ุนูู ุฃุนูู ุงูุฃุตูุงุช ูุฎุฑุฌ</li>
                                </ul>
                            </div>
                        </div>
                        
                        <p class="text-sm mt-4 text-center font-bold text-green-300">ุชุณุชูุฑ ุงูุฌููุงุช ุญุชู ูููุฒ ูุฑูู ุฃู ูุญูู ุฃุญุฏ ุงูุฃุฏูุงุฑ ูุฏูู ุงูุฎุงุต</p>
                    </div>
                </div>
            </div>
            
            <!-- ุดุฑุญ ูุถุน ุงูุญูู -->
            <div class="glass-effect rounded-xl p-4 md:p-6 mb-6">
                <h4 class="font-bold text-orange-400 mb-4 text-lg text-center">๐จโโ๏ธ ุดุฑุญ ูุถุน ุงูุญูู</h4>
                <div class="text-sm md:text-base text-gray-200 leading-relaxed space-y-3">
                    <p>โข <strong class="text-yellow-300">ุงูุญูู ูู ุดุฎุต ูุง ูุดุงุฑู ูู ุงููุนุจุฉ ููุงุนุจ</strong>ุ ุจู ูุฏูุฑ ุงููุนุจุฉ ุนุจุฑ ุงูุชุทุจูู</p>
                    <p>โข ูุนุฑู ุงูุญูู ุฃุฏูุงุฑ ุฌููุน ุงููุงุนุจูู ููุชุงุจุน ูุฑุงุฑุงุช ูู ุฏูุฑ ุฎุงุต ุฃุซูุงุก ุงูููู</p>
                    <p>โข ูุฏุฎู ูุฑุงุฑุงุช ุงููุงููุงุ ุงูุทุจูุจุ ุงููุญููุ ุงูุนุฑุงู... ูู ุงูุชุทุจูู ููุนูู ุงููุชุงุฆุฌ ุฏูู ูุดู ูููุงุช ุงูุฃุฏูุงุฑ</p>
                    <p>โข <strong class="text-red-300">ูููุน ุงูุญูู ูุดู ุฃู ูููุฉ ุฃุซูุงุก ุงููุนุจ</strong>ุ ููุนูู ุงููุชุงุฆุฌ ุจูุถูุญ ุจุนุฏ ูู ุฌููุฉ</p>
                    <p>โข ุงูุญูู ูุฑุงูุจ ุงูููุงููู (ุงูุฃุฎุฑุณุ ุงูููุงุตุ ุงูููุชุญุฑ...) ููุทุจููุง ุจุนุฏู ูุณุฑูุฉ</p>
                </div>
            </div>
            
            <!-- ุดุฑุญ ุงูุฃุฏูุงุฑ ุงูุฎุงุตุฉ -->
            <div class="glass-effect rounded-xl p-4 md:p-6 mb-6">
                <h4 class="font-bold text-purple-400 mb-4 text-lg text-center">๐๏ธ ุดุฑุญ ุงูุฃุฏูุงุฑ ุงูุฎุงุตุฉ</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                    <div class="bg-blue-500/20 border border-blue-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-blue-300 mb-2">๐ฎโโ๏ธ ุงููุญูู</h5>
                        <p class="text-xs text-gray-300">ูุญูู ูู ูููุฉ ูุงุนุจ ูู ูููุฉ ููุนุฑู ุฅุฐุง ูุงู ูุงููุง ุฃู ูุง</p>
                    </div>
                    <div class="bg-green-500/20 border border-green-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-green-300 mb-2">๐ฉบ ุงูุทุจูุจ</h5>
                        <p class="text-xs text-gray-300">ูููุฐ ุดุฎุตูุง ูู ุงูููุช ูู ูููุฉ (ูููููู ุฅููุงุฐ ููุณู)</p>
                    </div>
                    <div class="bg-red-500/20 border border-red-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-red-300 mb-2">๐ซ ุงูููุงุต</h5>
                        <p class="text-xs text-gray-300">ุฅุฐุง ุชู ุงูุชุตููุช ุนููู ููุฎุฑูุฌุ ูุฎุชุงุฑ ูุงุนุจูุง ุขุฎุฑ ููุฎุฑุฌู ูุนู ููุฑูุง</p>
                    </div>
                    <div class="bg-purple-500/20 border border-purple-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-purple-300 mb-2">๐ฎ ุงูุนุฑุงู</h5>
                        <p class="text-xs text-gray-300">ูุนุฑู ุงูุฏูุฑ ุงูุญูููู ูุงููุงูู ูุฃู ูุงุนุจ ูุฎุชุงุฑู ูู ูููุฉ</p>
                    </div>
                    <div class="bg-gray-500/20 border border-gray-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-gray-300 mb-2">๐ค ุงูุฃุฎุฑุณ</h5>
                        <p class="text-xs text-gray-300">ููููุน ูู ุงูููุงู ุฃุซูุงุก ุงูููุงุดุ ูุฅุฐุง ุชููู ูุฎุฑุฌ ููุฑูุง</p>
                    </div>
                    <div class="bg-orange-500/20 border border-orange-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-orange-300 mb-2">๐ฃ ุงูููุชุญุฑ</h5>
                        <p class="text-xs text-gray-300">ูุฏูู ุฃู ูุชู ุงูุชุตููุช ุนููู ููุฎุฑุฌุ ููููุฒ ูุญุฏู ุญุชู ูู ุฎุณุฑ ูุฑููู</p>
                    </div>
                    <div class="bg-green-500/20 border border-green-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-green-300 mb-2">๐งโโ๏ธ ุงูุฒููุจู</h5>
                        <p class="text-xs text-gray-300">ุฅุฐุง ูุงุช ูุนูุฏ ููุญูุงุฉ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ุงููุนุจุฉ</p>
                    </div>
                    <div class="bg-pink-500/20 border border-pink-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-pink-300 mb-2">๐ญ ุงููุชููุฑ</h5>
                        <p class="text-xs text-gray-300">ููููู ุชุบููุฑ ูููุชู ุฅูู ุฏูุฑ ุขุฎุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท ุฃุซูุงุก ุงููุนุจุฉ</p>
                    </div>
                    <div class="bg-yellow-500/20 border border-yellow-400/50 rounded-lg p-3">
                        <h5 class="font-bold text-yellow-300 mb-2">๐งโ๐ค ุงููุงุฌู</h5>
                        <p class="text-xs text-gray-300">ูุฏูู ุงูุจูุงุก ุญููุง ุญุชู ููุงูุฉ ุงููุนุจุฉ ููููุฒ ูููุฑุฏูุง</p>
                    </div>
                </div>
            </div>
            
            <!-- ูุตุงุฆุญ ููุงุฆูุฉ -->
            <div class="bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-400/50 rounded-xl p-4 text-center">
                <h4 class="font-bold text-green-300 mb-3 text-lg">๐ฏ ูุตุงุฆุญ ููุงุณุชูุชุงุน ุจุงููุนุจุฉ</h4>
                <div class="text-sm text-gray-200 space-y-2">
                    <p><strong class="text-yellow-300">ุงุณุชูุชุนูุง ุจุงููุนุจ ูุงูุชุญููู ูุงูููุงุด!</strong></p>
                    <p>ุฅุฐุง ูู ุชุนุฑู ุฏูุฑู ุฃู ููุงููู ุงููุนุจุฉุ ุฑุงุฌุน ูุฐุง ุงูุดุฑุญ ุฃู ุงุณุฃู ุงูุญูู ูุจู ุจุฏุก ุงูุฌููุฉ</p>
                    <p class="text-xs text-gray-400 italic">๐ก ูุตูุญุฉ: ุงููุนุจุฉ ุฃูุซุฑ ูุชุนุฉ ูุน 6-10 ูุงุนุจูู</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ุดุงุดุฉ ุชูุฒูุน ุงูุฃุฏูุงุฑ -->
    <div id="roleDistributionScreen" class="hidden container mx-auto px-4 py-8 relative z-10">
        <div class="text-center mb-8">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 text-yellow-400 text-shadow floating">๐ญ ุชูุฒูุน ุงูุฃุฏูุงุฑ</h2>
            <p class="text-lg md:text-xl text-gray-300">ูุฑุฑ ุงูุฌูุงุฒ ููู ูุงุนุจ ููุฑู ุฏูุฑู ุณุฑุงู</p>
            <div class="mt-4 text-sm text-gray-400 bg-white/10 rounded-lg p-3 inline-block">
                โ๏ธ ุชุฃูุฏ ุฃู ุงููุงุนุจูู ุงูุขุฎุฑูู ูุง ูุฑูู ุงูุดุงุดุฉ
            </div>
        </div>
        
        <div class="max-w-md mx-auto">
            <div class="glass-effect rounded-3xl p-8 text-center card-3d">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-white" id="currentPlayerName">ุงููุงุนุจ ุงูุฃูู</h3>
                <div class="role-card bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl p-8 mb-6 cursor-pointer shadow-2xl" onclick="revealRole()">
                    <div id="roleContent" class="text-6xl md:text-8xl mb-4">โ</div>
                    <p class="text-lg md:text-xl font-bold" id="roleDescription">ุงุถุบุท ูุฑุคูุฉ ุฏูุฑู</p>
                </div>
                <button onclick="nextPlayer()" id="nextPlayerBtn" class="w-full py-3 md:py-4 btn-success rounded-xl font-bold text-lg transition-all transform hover:scale-105 button-hover" style="display: none;">
                    โก๏ธ ุงููุงุนุจ ุงูุชุงูู
                </button>
            </div>
        </div>
    </div>
    
    <!-- ุดุงุดุฉ ูุถุน ุงูุญูู -->
    <div id="refereeScreen" class="hidden container mx-auto px-4 py-6 relative z-10">
        <!-- ุฑุฃุณ ุงูุดุงุดุฉ -->
        <div class="text-center mb-6">
            <h2 class="text-2xl md:text-4xl font-bold mb-2 text-yellow-400 text-shadow">๐จโโ๏ธ ูุถุน ุงูุญูู ุงูุฃุณุทูุฑู</h2>
            <div class="text-lg md:text-xl">
                <span class="text-yellow-400 font-bold">ุงูุฌููุฉ <span id="refereeRound">1</span></span> - 
                <span id="refereePhase" class="font-bold text-white">ุงูููู</span>
            </div>
        </div>
        
        <!-- ุฏููู ุงูุญูู -->
        <div id="refereeGuide" class="max-w-6xl mx-auto mb-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-4 md:p-6 glass-effect">
            <h3 class="text-xl md:text-2xl font-bold mb-3 text-center text-white">๐ ุฏููู ุงูุญูู</h3>
            <div id="guideContent" class="text-sm md:text-base space-y-2"></div>
        </div>
        
        <div class="max-w-6xl mx-auto">
            <!-- ูุนูููุงุช ุงููุงุนุจูู -->
            <div class="glass-effect rounded-3xl p-4 md:p-6 mb-6">
                <h3 class="text-xl md:text-2xl font-bold mb-4 text-center text-white">๐ฅ ุงููุงุนุจูู</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-bold text-green-400 mb-3 text-lg">๐ข ุงูุฃุญูุงุก (<span id="aliveCount">0</span>)</h4>
                        <div id="alivePlayers" class="grid grid-cols-1 sm:grid-cols-2 gap-2"></div>
                    </div>
                    <div>
                        <h4 class="font-bold text-red-400 mb-3 text-lg">๐ ุงูููุชู (<span id="deadCount">0</span>)</h4>
                        <div id="deadPlayers" class="grid grid-cols-1 sm:grid-cols-2 gap-2"></div>
                    </div>
                </div>
            </div>
            
            <!-- ูุฑุญูุฉ ุงูููู -->
            <div id="nightPhase" class="night-bg rounded-3xl p-4 md:p-6 mb-6 relative">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-white text-shadow">๐ ูุฑุญูุฉ ุงูููู</h3>
                
                <!-- ุฏูุฑ ุงููุงููุง -->
                <div id="mafiaAction" class="mb-6 glass-effect rounded-xl p-4 md:p-6">
                    <h4 class="text-lg md:text-xl font-bold mb-3 text-red-400">๐ต๏ธโโ๏ธ ุฏูุฑ ุงููุงููุง</h4>
                    <p class="text-sm md:text-base text-gray-300 mb-4">ุงุณุฃู ูุงุนุจู ุงููุงููุง ุณุฑุงู: "ูู ุชุฑูุฏูู ูุชูู ูุฐู ุงููููุฉุ"</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-4" id="mafiaTargets"></div>
                    <div id="mafiaResult" class="text-center text-yellow-300 font-bold text-lg"></div>
                </div>
                
                <!-- ุฏูุฑ ุงูุทุจูุจ -->
                <div id="doctorAction" class="mb-6 glass-effect rounded-xl p-4 md:p-6 hidden">
                    <h4 class="text-lg md:text-xl font-bold mb-3 text-green-400">๐ฉบ ุฏูุฑ ุงูุทุจูุจ</h4>
                    <p class="text-sm md:text-base text-gray-300 mb-4">ุงุณุฃู ุงูุทุจูุจ ุณุฑุงู: "ูู ุชุฑูุฏ ุนูุงุฌู ุงููููุฉุ"</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-4" id="doctorTargets"></div>
                    <div id="doctorResult" class="text-center text-yellow-300 font-bold text-lg"></div>
                </div>
                
                <!-- ุฏูุฑ ุงููุญูู -->
                <div id="detectiveAction" class="mb-6 glass-effect rounded-xl p-4 md:p-6 hidden">
                    <h4 class="text-lg md:text-xl font-bold mb-3 text-blue-400">๐ฎโโ๏ธ ุฏูุฑ ุงููุญูู</h4>
                    <p class="text-sm md:text-base text-gray-300 mb-4">ุงุณุฃู ุงููุญูู ุณุฑุงู: "ูู ุชุฑูุฏ ุงูุชุญูู ูู ูููุชูุ"</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-4" id="detectiveTargets"></div>
                    <div id="detectiveResult" class="mt-4 p-4 bg-blue-900/50 rounded-lg hidden">
                        <p class="font-bold text-center text-lg">๐ ุงููุชูุฌุฉ: <span id="detectiveResultText" class="text-yellow-300"></span></p>
                        <p class="text-xs md:text-sm text-center text-gray-300 mt-2">ุฃุฎุจุฑ ุงููุญูู ูุฐู ุงููุชูุฌุฉ ุณุฑุงู</p>
                    </div>
                </div>
                
                <!-- ุฏูุฑ ุงูุนุฑุงู -->
                <div id="oracleAction" class="mb-6 glass-effect rounded-xl p-4 md:p-6 hidden">
                    <h4 class="text-lg md:text-xl font-bold mb-3 text-purple-400">๐ฎ ุฏูุฑ ุงูุนุฑุงู</h4>
                    <p class="text-sm md:text-base text-gray-300 mb-4">ุงุณุฃู ุงูุนุฑุงู ุณุฑุงู: "ูู ุชุฑูุฏ ูุนุฑูุฉ ุฏูุฑู ุงูุญููููุ"</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-4" id="oracleTargets"></div>
                    <div id="oracleResult" class="mt-4 p-4 bg-purple-900/50 rounded-lg hidden">
                        <p class="font-bold text-center text-lg">๐ฎ ุงูุฏูุฑ: <span id="oracleResultText" class="text-yellow-300"></span></p>
                        <p class="text-xs md:text-sm text-center text-gray-300 mt-2">ุฃุฎุจุฑ ุงูุนุฑุงู ูุฐู ุงููุนูููุฉ ุณุฑุงู</p>
                    </div>
                </div>
                
                <button onclick="endNight()" id="endNightBtn" class="w-full py-3 md:py-4 btn-warning rounded-xl font-bold text-lg md:text-xl transition-all transform hover:scale-105 button-hover">
                    โ๏ธ ุงูุชูุงุก ุงูููู - ุจุฏุก ุงูููุงุฑ
                </button>
            </div>
            
            <!-- ูุฑุญูุฉ ุงูููุงุฑ -->
            <div id="dayPhase" class="hidden day-bg rounded-3xl p-4 md:p-6 mb-6 text-black relative">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-shadow">โ๏ธ ูุฑุญูุฉ ุงูููุงุฑ</h3>
                
                <!-- ูุชุงุฆุฌ ุงูููู -->
                <div id="nightResults" class="mb-6 glass-effect rounded-xl p-4 md:p-6">
                    <h4 class="text-lg md:text-xl font-bold mb-3">๐ข ุฃุนูู ููุฌููุน:</h4>
                    <div id="nightResultsText" class="bg-white/30 rounded-lg p-4 font-bold text-center text-lg md:text-xl"></div>
                </div>
                
                <!-- ูุฑุญูุฉ ุงูููุงุด -->
                <div class="mb-6 glass-effect rounded-xl p-4 md:p-6">
                    <h4 class="text-lg md:text-xl font-bold mb-3">๐ฌ ูุฑุญูุฉ ุงูููุงุด</h4>
                    <p class="text-sm md:text-base mb-4">ุงุชุฑููู ูุชูุงูุดูู - ุฑุงูุจ ุงูุฃุฎุฑุณ ุฅุฐุง ูุงู ููุฌูุฏุงู!</p>
                    <div class="text-center mb-4">
                        <div class="text-4xl md:text-6xl font-bold mb-4 text-blue-600" id="discussionTimer">2:00</div>
                        <button onclick="startDiscussionTimer()" id="startDiscussionBtn" class="px-6 py-3 btn-primary text-white rounded-lg hover:bg-blue-700 transition-all transform hover:scale-105 button-hover">
                            ๐ ุจุฏุก ูุคูุช ุงูููุงุด
                        </button>
                    </div>
                    
                    <!-- ุชุญุฐูุฑ ุงูุฃุฎุฑุณ -->
                    <div id="muteWarning" class="mt-4 p-4 bg-red-500/30 border-2 border-red-500 rounded-lg hidden">
                        <p class="font-bold text-red-800 text-center mb-3">โ๏ธ ุชุญุฐูุฑ: ุฅุฐุง ุชููู ุงูุฃุฎุฑุณุ ุงุถุบุท ููุง ูุงุณุชุจุนุงุฏู ููุฑุงู</p>
                        <button onclick="eliminateMute()" class="w-full px-4 py-3 btn-danger text-white rounded-lg font-bold">
                            ๐ค ุงุณุชุจุนุงุฏ ุงูุฃุฎุฑุณ
                        </button>
                    </div>
                </div>
                
                <!-- ูุฑุญูุฉ ุงูุชุตููุช -->
                <div class="mb-6 glass-effect rounded-xl p-4 md:p-6">
                    <h4 class="text-lg md:text-xl font-bold mb-3">๐ณ๏ธ ูุฑุญูุฉ ุงูุชุตููุช</h4>
                    <p class="text-sm md:text-base mb-4">ุงุฌูุน ุฃุตูุงุช ุงููุงุนุจูู ูุงุฎุชุฑ ูู ุญุตู ุนูู ุฃูุซุฑ ุงูุฃุตูุงุช</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-4" id="votingTargets"></div>
                    
                    <!-- ุฎูุงุฑ ุงูุณูุจ -->
                    <div class="text-center mb-4">
                        <button onclick="selectSkip()" id="skipBtn" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-bold transition-all border-2 border-transparent transform hover:scale-105 button-hover">
                            ๐ค ุณูููุจ (ูุง ุฃุญุฏ ูุฎุฑุฌ)
                        </button>
                    </div>
                    
                    <div id="votingResult" class="text-center font-bold text-lg md:text-xl"></div>
                </div>
                
                <!-- ุฏูุฑ ุงูููุงุต -->
                <div id="sniperAction" class="mb-6 bg-red-900/50 rounded-xl p-4 md:p-6 hidden">
                    <h4 class="text-lg md:text-xl font-bold mb-3 text-red-300">๐ซ ุฏูุฑ ุงูููุงุต</h4>
                    <p class="text-sm md:text-base mb-4 text-white">ุงูููุงุต ุฎุฑุฌ! ุงุณุฃูู ุณุฑุงู: "ูู ุชุฑูุฏ ุชุตููุชู ูุนูุ"</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2" id="sniperTargets"></div>
                </div>
                
                <button onclick="endDay()" id="endDayBtn" class="w-full py-3 md:py-4 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-lg md:text-xl transition-all transform hover:scale-105 button-hover">
                    ๐ ุงูุชูุงุก ุงูููุงุฑ - ุจุฏุก ุงูููู
                </button>
            </div>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ -->
    <div id="finalResultsScreen" class="hidden container mx-auto px-4 py-8 relative z-10">
        <div class="text-center mb-8">
            <h2 class="text-3xl md:text-5xl font-bold mb-4 text-yellow-400 text-shadow floating">๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ</h2>
        </div>
        
        <div class="max-w-6xl mx-auto">
            <!-- ุงููุงุฆุฒ -->
            <div class="bg-gradient-to-r from-yellow-400 to-orange-500 rounded-3xl p-6 md:p-8 text-black text-center mb-6 glow card-3d">
                <h3 class="text-2xl md:text-4xl font-bold mb-4">๐ ุงููุงุฆุฒ</h3>
                <div id="winner" class="text-xl md:text-3xl font-bold"></div>
            </div>
            
            <!-- ุงูุฅูุฌุงุฒุงุช -->
            <div id="achievementsSection" class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-3xl p-6 mb-6 card-3d">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-white">๐ ุงูุฅูุฌุงุฒุงุช ูุงูุฃุฏูุงุฑ</h3>
                <div id="achievementsList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"></div>
            </div>
            
            <!-- ุฏููู ุงูุฅุนูุงู ููุญูู -->
            <div id="announcementGuide" class="bg-gradient-to-r from-green-600 to-blue-600 rounded-3xl p-6 mb-6 card-3d">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-white">๐ข ุฏููู ุงูุฅุนูุงู ููุญูู</h3>
                <div class="bg-white/20 rounded-xl p-4 mb-4">
                    <h4 class="font-bold text-lg mb-2 text-yellow-300">๐ฏ ููููุฉ ุฅุนูุงู ุงููุชุงุฆุฌ:</h4>
                    <ol class="text-sm md:text-base space-y-2 text-white">
                        <li><strong>1.</strong> ุฃุนูู ุงููุฑูู ุงููุงุฆุฒ ุจูุถูุญ</li>
                        <li><strong>2.</strong> ุงูุดู ุฌููุน ุงูุฃุฏูุงุฑ ููุงุนุจูู</li>
                        <li><strong>3.</strong> ุงุฐูุฑ ุงูุฅูุฌุงุฒุงุช ุงูุฎุงุตุฉ</li>
                        <li><strong>4.</strong> ุงุณุฃู ุนู ุฅุนุงุฏุฉ ุงููุนุจ</li>
                    </ol>
                </div>
                <div id="announcementContent" class="space-y-3 text-sm md:text-base"></div>
            </div>
            
            <!-- ุฅุญุตุงุฆูุงุช ุงููุงุนุจูู -->
            <div class="glass-effect rounded-3xl p-6 md:p-8 mb-6 card-3d">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-white">๐ ุฅุญุตุงุฆูุงุช ุงููุงุนุจูู</h3>
                <div id="playerStats" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
            </div>
            
            <!-- ูุดู ุงูุฃุฏูุงุฑ ููุญูู -->
            <div class="bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-6 mb-6 card-3d">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center text-white">๐ญ ูุดู ุงูุฃุฏูุงุฑ (ููุญูู)</h3>
                <div class="bg-white/20 rounded-xl p-4 mb-4">
                    <p class="text-center text-sm md:text-base mb-2 text-yellow-300 font-bold">๐ข ุงูุฑุฃ ูุฐู ุงููุนูููุงุช ุจุตูุช ุนุงูู ููุงุนุจูู</p>
                    <p class="text-xs md:text-sm text-center text-gray-300 italic">"ุงูุขู ุณุฃูุดู ููู ุฃุฏูุงุฑ ุฌููุน ุงููุงุนุจูู ูู ูุฐู ุงูุฌููุฉ..."</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="roleRevealList"></div>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4">
                <button onclick="playAgain()" class="flex-1 py-3 md:py-4 btn-success rounded-xl font-bold text-lg md:text-xl transition-all transform hover:scale-105 button-hover">
                    ๐ ุฅุนุงุฏุฉ ุงููุนุจ
                </button>
                <button onclick="newGame()" class="flex-1 py-3 md:py-4 btn-primary text-white rounded-xl font-bold text-lg md:text-xl transition-all transform hover:scale-105 button-hover">
                    ๐ ูุนุจุฉ ุฌุฏูุฏุฉ
                </button>
            </div>
        </div>
    </div>

    <script>
        // ูุชุบูุฑุงุช ุงููุนุจุฉ
        let players = [];
        let gameSettings = {
            rounds: 5,
            discussionTime: 120,
            enabledRoles: []
        };
        let currentGame = {
            round: 1,
            phase: 'night',
            currentPlayerIndex: 0,
            roles: {},
            alivePlayers: [],
            deadPlayers: [],
            playerStats: {},
            nightActions: {
                mafiaKill: null,
                doctorSave: null,
                detectiveCheck: null,
                oracleCheck: null
            },
            votingResult: null,
            specialAbilities: {
                zombieRevived: false,
                disguiseUsed: false
            },
            discussionTimerActive: false
        };

        // ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ ูุน ุงูุฃูุตุงู ุงููุงููุฉ ูุงููุญุณูุฉ
        const roles = {
            mafia: { 
                name: 'ุงููุงููุง', 
                emoji: '๐ต๏ธโโ๏ธ', 
                description: 'ููุณู ูุน ุฃุนุถุงุก ุงููุงููุง ุงูุขุฎุฑูู ููุชู ุงููุฏูููู ูู ูููุฉ. ูุฏููู ุงูุณูุทุฑุฉ ุนูู ุงููุฑูุฉ.',
                team: 'mafia',
                color: 'text-red-400'
            },
            detective: { 
                name: 'ุงููุญูู', 
                emoji: '๐ฎโโ๏ธ', 
                description: 'ูุญูู ูู ูููุฉ ูุงุนุจ ูุงุญุฏ ูู ูููุฉ ููุนุฑู ุฅุฐุง ูุงู ูู ุงููุงููุง ุฃู ูุง. ุฏูุฑู ุณุฑู.',
                team: 'citizen',
                color: 'text-blue-400'
            },
            doctor: { 
                name: 'ุงูุทุจูุจ', 
                emoji: '๐ฉบ', 
                description: 'ูููุฐ ุดุฎุตุงู ูุงุญุฏุงู ูู ุงูููุช ูู ูููุฉ. ููููู ุฅููุงุฐ ููุณู ูุฑุฉ ูุงุญุฏุฉ ููุท.',
                team: 'citizen',
                color: 'text-green-400'
            },
            citizen: { 
                name: 'ูุฏูู', 
                emoji: '๐งโ๐คโ๐ง', 
                description: 'ููุงุทู ุนุงุฏู ูุญุงูู ูุดู ุงููุงููุง ูุงูุชุตููุช ุถุฏูู ูุญูุงูุฉ ุงููุฑูุฉ.',
                team: 'citizen',
                color: 'text-green-400'
            },
            sniper: { 
                name: 'ุงูููุงุต', 
                emoji: '๐ซ', 
                description: 'ุฅุฐุง ุชู ุงูุชุตููุช ุนููู ูุฅูุตุงุคูุ ููุชู ูุงุนุจุงู ุขุฎุฑ ูุจู ููุชู ุงูุชูุงูุงู.',
                team: 'citizen',
                color: 'text-red-400'
            },
            oracle: { 
                name: 'ุงูุนุฑุงู', 
                emoji: '๐ฎ', 
                description: 'ูุนุฑู ุงูุฏูุฑ ุงูุญูููู ูุงููุงูู ููุงุนุจ ูุงุญุฏ ูู ูููุฉ. ูุนูููุงุชู ุฏูููุฉ 100%.',
                team: 'citizen',
                color: 'text-purple-400'
            },
            mute: { 
                name: 'ุงูุฃุฎุฑุณ', 
                emoji: '๐ค', 
                description: 'ููููุน ูู ุงูููุงู ููุงุฆูุงู ุฃุซูุงุก ูุฑุญูุฉ ุงูููุงุด. ุฅุฐุง ุชููู ูุชู ุฅูุตุงุคู ููุฑุงู.',
                team: 'citizen',
                color: 'text-gray-400'
            },
            bomber: { 
                name: 'ุงูููุชุญุฑ', 
                emoji: '๐ฃ', 
                description: 'ูุฏูู ุงููุญูุฏ ุฃู ูุชู ุงูุชุตููุช ุนููู ููููุฒ ูููุฑุฏุงู ุถุฏ ุฌููุน ุงููุงุนุจูู.',
                team: 'independent',
                color: 'text-orange-400'
            },
            zombie: { 
                name: 'ุงูุฒููุจู', 
                emoji: '๐งโโ๏ธ', 
                description: 'ุฅุฐุง ูุงุช ูุนูุฏ ููุญูุงุฉ ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ุงููุนุจุฉ. ููุฉ ุฎุงุฑูุฉ ููุทุจูุนุฉ.',
                team: 'citizen',
                color: 'text-green-400'
            },
            disguise: { 
                name: 'ุงููุชููุฑ', 
                emoji: '๐ญ', 
                description: 'ููููู ุชุบููุฑ ูููุชู ูุฅุธูุงุฑ ุฏูุฑ ูุฎุชูู ูููุญูู ูุฑุฉ ูุงุญุฏุฉ ุฃุซูุงุก ุงููุนุจุฉ.',
                team: 'citizen',
                color: 'text-pink-400'
            },
            survivor: { 
                name: 'ุงููุงุฌู', 
                emoji: '๐งโ๐ค', 
                description: 'ูุฏูู ุงููุญูุฏ ุงูุจูุงุก ุญูุงู ุญุชู ููุงูุฉ ุงููุนุจุฉ ููููุฒ ูููุฑุฏุงู ุจุบุถ ุงููุธุฑ ุนู ุงููุงุฆุฒ.',
                team: 'independent',
                color: 'text-yellow-400'
            }
        };

        // ุฅุถุงูุฉ ูุงุนุจ
        function addPlayer() {
            const input = document.getElementById('playerNameInput');
            const name = input.value.trim();
            
            if (name && !players.includes(name) && players.length < 15) {
                players.push(name);
                updatePlayersList();
                input.value = '';
                updateStartButton();
                
                // ุชุฃุซูุฑ ุจุตุฑู
                const list = document.getElementById('playersList');
                const newPlayer = list.lastElementChild;
                if (newPlayer) {
                    newPlayer.classList.add('slide-in');
                }
            } else if (name && players.includes(name)) {
                showNotification('ูุฐุง ุงูุงุณู ููุฌูุฏ ุจุงููุนู!', 'warning');
            } else if (players.length >= 15) {
                showNotification('ุงูุญุฏ ุงูุฃูุตู 15 ูุงุนุจ!', 'error');
            }
        }

        // ุชุญุฏูุซ ูุงุฆูุฉ ุงููุงุนุจูู
        function updatePlayersList() {
            const list = document.getElementById('playersList');
            list.innerHTML = players.map((player, index) => 
                `<div class="stat-card rounded-lg p-3 flex justify-between items-center">
                    <span class="font-bold text-white">${player}</span>
                    <button onclick="removePlayer('${player}')" class="text-red-400 hover:text-red-300 ml-2 transition-colors transform hover:scale-110">
                        โ
                    </button>
                </div>`
            ).join('');
        }

        // ุญุฐู ูุงุนุจ
        function removePlayer(name) {
            players = players.filter(p => p !== name);
            updatePlayersList();
            updateStartButton();
        }

        // ุชุญุฏูุซ ุฒุฑ ุงูุจุฏุงูุฉ
        function updateStartButton() {
            const btn = document.getElementById('startGameBtn');
            btn.disabled = players.length < 4;
            
            if (players.length < 4) {
                btn.textContent = `๐ ุจุฏุก ุงููุนุจุฉ (${players.length}/4 ูุงุนุจูู)`;
                btn.classList.remove('glow');
            } else {
                btn.textContent = '๐ ุจุฏุก ุงููุนุจุฉ ุงูุฃุณุทูุฑูุฉ';
                btn.classList.add('glow');
            }
        }

        // ุฅุธูุงุฑ ุฅุดุนุงุฑ
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg font-bold text-white transform transition-all duration-300 ${
                type === 'error' ? 'bg-red-500' : 
                type === 'warning' ? 'bg-yellow-500' : 
                type === 'success' ? 'bg-green-500' : 'bg-blue-500'
            }`;
            notification.textContent = message;
            notification.style.transform = 'translateX(100%)';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // ุจุฏุก ุงููุนุจุฉ
        function startGame() {
            if (players.length < 4) {
                showNotification('ูุฌุจ ุฅุถุงูุฉ 4 ูุงุนุจูู ุนูู ุงูุฃูู!', 'error');
                return;
            }

            // ุฌูุน ุงูุฅุนุฏุงุฏุงุช
            gameSettings.rounds = parseInt(document.getElementById('roundsCount').value);
            gameSettings.discussionTime = parseInt(document.getElementById('discussionTime').value);
            gameSettings.enabledRoles = Array.from(document.querySelectorAll('#rolesConfig input:checked'))
                .map(cb => cb.dataset.role);

            // ุชูุฒูุน ุงูุฃุฏูุงุฑ
            distributeRoles();
            
            // ุจุฏุก ุชูุฒูุน ุงูุฃุฏูุงุฑ
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('roleDistributionScreen').classList.remove('hidden');
            
            currentGame.currentPlayerIndex = 0;
            showCurrentPlayer();
        }

        // ุชูุฒูุน ุงูุฃุฏูุงุฑ
        function distributeRoles() {
            const totalPlayers = players.length;
            const mafiaCount = Math.max(1, Math.floor(totalPlayers / 3));
            
            let rolesList = [];
            
            // ุฅุถุงูุฉ ุงููุงููุง
            for (let i = 0; i < mafiaCount; i++) {
                rolesList.push('mafia');
            }
            
            // ุฅุถุงูุฉ ุงูุฃุฏูุงุฑ ุงูุฅุถุงููุฉ
            gameSettings.enabledRoles.forEach(role => {
                if (rolesList.length < totalPlayers) {
                    rolesList.push(role);
                }
            });
            
            // ููุก ุงูุจุงูู ุจุงููุฏูููู
            while (rolesList.length < totalPlayers) {
                rolesList.push('citizen');
            }
            
            // ุฎูุท ุงูุฃุฏูุงุฑ
            rolesList = rolesList.sort(() => Math.random() - 0.5);
            
            // ุชูุฒูุน ุงูุฃุฏูุงุฑ ุนูู ุงููุงุนุจูู
            players.forEach((player, index) => {
                currentGame.roles[player] = rolesList[index];
                currentGame.playerStats[player] = {
                    votes: 0,
                    eliminated: 0,
                    survived: 0,
                    nightKills: 0,
                    role: rolesList[index]
                };
            });
            
            // ุชุญุฏูุฏ ุงููุงุนุจูู ุงูุฃุญูุงุก
            currentGame.alivePlayers = [...players];
            currentGame.deadPlayers = [];
        }

        // ุฅุธูุงุฑ ุงููุงุนุจ ุงูุญุงูู
        function showCurrentPlayer() {
            if (currentGame.currentPlayerIndex < players.length) {
                const playerName = players[currentGame.currentPlayerIndex];
                document.getElementById('currentPlayerName').textContent = playerName;
                document.getElementById('roleContent').textContent = 'โ';
                document.getElementById('roleDescription').textContent = 'ุงุถุบุท ูุฑุคูุฉ ุฏูุฑู ุงูุณุฑู';
                document.getElementById('nextPlayerBtn').style.display = 'none';
                
                // ุฅุนุงุฏุฉ ุชุนููู ุงูุจุทุงูุฉ
                const roleCard = document.querySelector('.role-card');
                roleCard.classList.remove('flipped');
            }
        }

        // ูุดู ุงูุฏูุฑ
        function revealRole() {
            if (currentGame.currentPlayerIndex >= players.length) return;
            
            const playerName = players[currentGame.currentPlayerIndex];
            const playerRole = currentGame.roles[playerName];
            const role = roles[playerRole];
            
            if (!role) return;
            
            document.getElementById('roleContent').textContent = role.emoji;
            document.getElementById('roleDescription').innerHTML = 
                `<div class="text-2xl font-bold mb-2 ${role.color}">${role.name}</div>
                 <div class="text-sm text-gray-300 leading-relaxed">${role.description}</div>
                 <div class="text-xs text-gray-400 mt-2">ุงููุฑูู: ${
                     role.team === 'mafia' ? '๐ด ุงููุงููุง' : 
                     role.team === 'citizen' ? '๐ข ุงููุฏูููู' : 
                     '๐ก ูุณุชูู'
                 }</div>`;
            
            document.getElementById('nextPlayerBtn').style.display = 'block';
            
            // ุชุฃุซูุฑ ุจุตุฑู ุจุฏูู ุงูููุงุจ
            const roleCard = document.querySelector('.role-card');
            roleCard.classList.add('flipped');
        }

        // ุงููุงุนุจ ุงูุชุงูู
        function nextPlayer() {
            currentGame.currentPlayerIndex++;
            
            if (currentGame.currentPlayerIndex >= players.length) {
                startRefereeMode();
            } else {
                showCurrentPlayer();
            }
        }

        // ุจุฏุก ูุถุน ุงูุญูู
        function startRefereeMode() {
            document.getElementById('roleDistributionScreen').classList.add('hidden');
            document.getElementById('refereeScreen').classList.remove('hidden');
            
            updateRefereeDisplay();
            startNightPhase();
        }

        // ุชุญุฏูุซ ุนุฑุถ ูุถุน ุงูุญูู
        function updateRefereeDisplay() {
            document.getElementById('refereeRound').textContent = currentGame.round;
            document.getElementById('refereePhase').textContent = currentGame.phase === 'night' ? 'ุงูููู' : 'ุงูููุงุฑ';
            
            // ุนุฑุถ ุงููุงุนุจูู ุงูุฃุญูุงุก
            const aliveContainer = document.getElementById('alivePlayers');
            aliveContainer.innerHTML = currentGame.alivePlayers.map(player => {
                const role = roles[currentGame.roles[player]];
                return `<div class="stat-card rounded-lg p-3 text-center border-2 border-green-400/50">
                    <div class="font-bold text-sm md:text-base text-white">${player}</div>
                    <div class="text-xs text-gray-300">${role.emoji} ${role.name}</div>
                </div>`;
            }).join('');
            
            // ุนุฑุถ ุงููุงุนุจูู ุงูููุชู
            const deadContainer = document.getElementById('deadPlayers');
            deadContainer.innerHTML = currentGame.deadPlayers.map(player => {
                const role = roles[currentGame.roles[player]];
                return `<div class="stat-card rounded-lg p-3 text-center border-2 border-red-400/50 eliminated">
                    <div class="font-bold text-sm md:text-base text-white">${player}</div>
                    <div class="text-xs text-gray-300">${role.emoji} ${role.name}</div>
                </div>`;
            }).join('');
            
            // ุชุญุฏูุซ ุงูุนุฏุงุฏุงุช
            document.getElementById('aliveCount').textContent = currentGame.alivePlayers.length;
            document.getElementById('deadCount').textContent = currentGame.deadPlayers.length;
            
            // ุชุญุฏูุซ ุฏููู ุงูุญูู
            updateRefereeGuide();
        }

        // ุชุญุฏูุซ ุฏููู ุงูุญูู
        function updateRefereeGuide() {
            const guideContent = document.getElementById('guideContent');
            
            if (currentGame.phase === 'night') {
                guideContent.innerHTML = `
                    <div class="bg-white/20 rounded-lg p-3 mb-2">
                        <p class="font-bold text-yellow-300 mb-2">๐ ูุฑุญูุฉ ุงูููู - ุฅุฑุดุงุฏุงุช ุงูุญูู:</p>
                        <ul class="text-sm space-y-1">
                            <li>โข ุงุณุฃู ุงููุงููุง ุณุฑุงู: "ูู ุชุฑูุฏูู ูุชูู ูุฐู ุงููููุฉุ"</li>
                            <li>โข ุงุณุฃู ุงูุทุจูุจ ุณุฑุงู: "ูู ุชุฑูุฏ ุนูุงุฌูุ" (ุฅู ููุฌุฏ)</li>
                            <li>โข ุงุณุฃู ุงููุญูู ุณุฑุงู: "ูู ุชุฑูุฏ ุงูุชุญูู ูููุ" (ุฅู ููุฌุฏ)</li>
                            <li>โข ุงุณุฃู ุงูุนุฑุงู ุณุฑุงู: "ูู ุชุฑูุฏ ูุนุฑูุฉ ุฏูุฑูุ" (ุฅู ููุฌุฏ)</li>
                        </ul>
                        <p class="text-xs text-red-300 mt-2 font-bold">โ๏ธ ุชุฐูุฑ: ูุง ุชูุดู ูููุฉ ุฃู ูุงุนุจ ููุขุฎุฑูู!</p>
                    </div>
                `;
            } else {
                guideContent.innerHTML = `
                    <div class="bg-white/20 rounded-lg p-3 mb-2">
                        <p class="font-bold text-yellow-300 mb-2">โ๏ธ ูุฑุญูุฉ ุงูููุงุฑ - ุฅุฑุดุงุฏุงุช ุงูุญูู:</p>
                        <ul class="text-sm space-y-1">
                            <li>โข ุฃุนูู ูุชุงุฆุฌ ุงูููู ููุฌููุน ุจูุถูุญ</li>
                            <li>โข ุงุจุฏุฃ ูุคูุช ุงูููุงุด ูุฑุงูุจ ุงูุฃุฎุฑุณ (ุฅู ููุฌุฏ)</li>
                            <li>โข ุงุฌูุน ุฃุตูุงุช ุงููุงุนุจูู ููู ูุฑูุฏูู ุฅูุตุงุกู</li>
                            <li>โข ุฅุฐุง ุฎุฑุฌ ุงูููุงุตุ ุงุณุฃูู ุนูู ูุฑูุฏ ูุชูู</li>
                        </ul>
                        <p class="text-xs text-red-300 mt-2 font-bold">โ๏ธ ุชุฐูุฑ: ุฅุฐุง ุชููู ุงูุฃุฎุฑุณุ ุงุณุชุจุนุฏู ููุฑุงู!</p>
                    </div>
                `;
            }
        }

        // ุจุฏุก ูุฑุญูุฉ ุงูููู
        function startNightPhase() {
            currentGame.phase = 'night';
            currentGame.nightActions = { 
                mafiaKill: null, 
                doctorSave: null, 
                detectiveCheck: null,
                oracleCheck: null 
            };
            
            document.getElementById('nightPhase').classList.remove('hidden');
            document.getElementById('dayPhase').classList.add('hidden');
            
            // ุฅุฎูุงุก ุฌููุน ุงูุฃุฏูุงุฑ ุฃููุงู
            document.getElementById('doctorAction').classList.add('hidden');
            document.getElementById('detectiveAction').classList.add('hidden');
            document.getElementById('oracleAction').classList.add('hidden');
            document.getElementById('muteWarning').classList.add('hidden');
            
            // ุฅูุดุงุก ุฃูุฏุงู ุงููุงููุง
            createActionTargets('mafiaTargets', 'mafiaKill');
            
            // ุฅุธูุงุฑ ุงูุฃุฏูุงุฑ ุงูุฅุถุงููุฉ
            if (gameSettings.enabledRoles.includes('doctor') && hasAliveRole('doctor')) {
                document.getElementById('doctorAction').classList.remove('hidden');
                createActionTargets('doctorTargets', 'doctorSave');
            }
            
            if (gameSettings.enabledRoles.includes('detective') && hasAliveRole('detective')) {
                document.getElementById('detectiveAction').classList.remove('hidden');
                createActionTargets('detectiveTargets', 'detectiveCheck');
            }
            
            if (gameSettings.enabledRoles.includes('oracle') && hasAliveRole('oracle')) {
                document.getElementById('oracleAction').classList.remove('hidden');
                createActionTargets('oracleTargets', 'oracleCheck');
            }
            
            // ุฅุธูุงุฑ ุชุญุฐูุฑ ุงูุฃุฎุฑุณ ุฅุฐุง ูุงู ุญูุงู
            if (gameSettings.enabledRoles.includes('mute') && hasAliveRole('mute')) {
                document.getElementById('muteWarning').classList.remove('hidden');
            }
            
            // ุฅุนุงุฏุฉ ุชุนููู ุงููุชุงุฆุฌ
            document.getElementById('mafiaResult').textContent = '';
            document.getElementById('doctorResult').textContent = '';
            document.getElementById('detectiveResult').classList.add('hidden');
            document.getElementById('oracleResult').classList.add('hidden');
            
            updateRefereeDisplay();
        }

        // ุงูุชุญูู ูู ูุฌูุฏ ุฏูุฑ ุญู
        function hasAliveRole(role) {
            return currentGame.alivePlayers.some(player => currentGame.roles[player] === role);
        }

        // ุฅูุดุงุก ุฃูุฏุงู ุงูุฃุฏูุงุฑ
        function createActionTargets(containerId, actionType) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = currentGame.alivePlayers.map(player => 
                `<button onclick="selectAction('${actionType}', '${player}')" 
                         class="action-target stat-card rounded-lg p-2 md:p-3 transition-all border-2 border-transparent text-sm md:text-base font-bold hover:scale-105" 
                         data-action="${actionType}" data-target="${player}">
                    ${player}
                </button>`
            ).join('');
        }

        // ุงุฎุชูุงุฑ ุฅุฌุฑุงุก
        function selectAction(actionType, target) {
            if (!currentGame.alivePlayers.includes(target)) return;
            
            currentGame.nightActions[actionType] = target;
            
            // ุชุญุฏูุซ ูุธูุฑ ุงูุฃุฒุฑุงุฑ
            document.querySelectorAll(`[data-action="${actionType}"]`).forEach(btn => {
                btn.classList.remove('selected-action');
            });
            
            const selectedBtn = document.querySelector(`[data-action="${actionType}"][data-target="${target}"]`);
            if (selectedBtn) {
                selectedBtn.classList.add('selected-action');
            }
            
            // ุฅุธูุงุฑ ุงููุชุงุฆุฌ
            if (actionType === 'mafiaKill') {
                document.getElementById('mafiaResult').textContent = `ุงููุงููุง ุงุฎุชุงุฑุช: ${target} ๐ฏ`;
            } else if (actionType === 'doctorSave') {
                document.getElementById('doctorResult').textContent = `ุงูุทุจูุจ ุงุฎุชุงุฑ: ${target} ๐ก๏ธ`;
            } else if (actionType === 'detectiveCheck') {
                const targetRole = currentGame.roles[target];
                const isMafia = targetRole === 'mafia';
                document.getElementById('detectiveResultText').textContent = 
                    isMafia ? `${target} ูู ูุงููุง! ๐จ` : `${target} ููุณ ูุงููุง โ`;
                document.getElementById('detectiveResult').classList.remove('hidden');
            } else if (actionType === 'oracleCheck') {
                const targetRole = currentGame.roles[target];
                const role = roles[targetRole];
                document.getElementById('oracleResultText').textContent = 
                    `${target} ูู ${role.name} ${role.emoji}`;
                document.getElementById('oracleResult').classList.remove('hidden');
            }
        }

        // ุงูุชูุงุก ุงูููู
        function endNight() {
            const mafiaKill = currentGame.nightActions.mafiaKill;
            const doctorSave = currentGame.nightActions.doctorSave;
            
            let resultText = '';
            let killedPlayer = null;
            
            if (!mafiaKill) {
                resultText = '๐ ุงููุงููุง ูู ุชุฎุชุฑ ุฃุญุฏุงู - ูููุฉ ูุงุฏุฆุฉ ูุขููุฉ ๐ด';
            } else if (mafiaKill === doctorSave) {
                resultText = `๐ฉบ ุงููุงููุง ุญุงููุช ูุชู ${mafiaKill} ููู ุงูุทุจูุจ ุฃููุฐู ูู ุงููุญุธุฉ ุงูุฃุฎูุฑุฉ! ๐ก๏ธ`;
            } else {
                resultText = `๐ ${mafiaKill} ุชู ูุชูู ุจูุงุณุทุฉ ุงููุงููุง ุฃุซูุงุก ุงูููู`;
                killedPlayer = mafiaKill;
                eliminatePlayer(mafiaKill, 'night');
            }
            
            document.getElementById('nightResultsText').textContent = resultText;
            
            // ุงูุชุญูู ูู ุงูุชูุงุก ุงููุนุจุฉ
            if (checkGameEnd()) {
                showFinalResults();
                return;
            }
            
            startDayPhase();
        }

        // ุจุฏุก ูุฑุญูุฉ ุงูููุงุฑ
        function startDayPhase() {
            currentGame.phase = 'day';
            currentGame.votingResult = null;
            
            document.getElementById('nightPhase').classList.add('hidden');
            document.getElementById('dayPhase').classList.remove('hidden');
            
            // ุฅุนุงุฏุฉ ุชุนููู ูุคูุช ุงูููุงุด
            const minutes = Math.floor(gameSettings.discussionTime / 60);
            const seconds = gameSettings.discussionTime % 60;
            document.getElementById('discussionTimer').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('startDiscussionBtn').disabled = false;
            document.getElementById('startDiscussionBtn').textContent = '๐ ุจุฏุก ูุคูุช ุงูููุงุด';
            currentGame.discussionTimerActive = false;
            
            // ุฅูุดุงุก ุฃูุฏุงู ุงูุชุตููุช
            createVotingTargets();
            
            // ุฅุฎูุงุก ุฏูุฑ ุงูููุงุต
            document.getElementById('sniperAction').classList.add('hidden');
            
            // ุฅุนุงุฏุฉ ุชุนููู ูุชูุฌุฉ ุงูุชุตููุช
            document.getElementById('votingResult').textContent = '';
            
            updateRefereeDisplay();
        }

        // ุฅูุดุงุก ุฃูุฏุงู ุงูุชุตููุช
        function createVotingTargets() {
            const container = document.getElementById('votingTargets');
            if (!container) return;
            
            container.innerHTML = currentGame.alivePlayers.map(player => 
                `<button onclick="selectVotingTarget('${player}')" 
                         class="voting-target stat-card rounded-lg p-2 md:p-3 transition-all border-2 border-transparent text-sm md:text-base font-bold hover:scale-105">
                    ${player}
                </button>`
            ).join('');
        }

        // ุงุฎุชูุงุฑ ูุฏู ุงูุชุตููุช
        function selectVotingTarget(player) {
            if (!currentGame.alivePlayers.includes(player)) return;
            
            // ุฅุฒุงูุฉ ุงูุชุญุฏูุฏ ุงูุณุงุจู
            document.querySelectorAll('.voting-target').forEach(btn => {
                btn.classList.remove('selected-vote');
            });
            document.getElementById('skipBtn').classList.remove('selected-skip');
            
            // ุชุญุฏูุฏ ุงููุฏู ุงูุฌุฏูุฏ
            const selectedBtn = document.querySelector(`[onclick="selectVotingTarget('${player}')"]`);
            if (selectedBtn) {
                selectedBtn.classList.add('selected-vote');
            }
            
            currentGame.votingResult = player;
            document.getElementById('votingResult').textContent = `๐ณ๏ธ ุณูุชู ุฅูุตุงุก: ${player}`;
        }

        // ุงุฎุชูุงุฑ ุงูุณูุจ
        function selectSkip() {
            // ุฅุฒุงูุฉ ุงูุชุญุฏูุฏ ุงูุณุงุจู
            document.querySelectorAll('.voting-target').forEach(btn => {
                btn.classList.remove('selected-vote');
            });
            
            // ุชุญุฏูุฏ ุงูุณูุจ
            document.getElementById('skipBtn').classList.add('selected-skip');
            
            currentGame.votingResult = 'skip';
            document.getElementById('votingResult').textContent = '๐ค ุณูููุจ - ูุง ุฃุญุฏ ุณูุฎุฑุฌ ูุฐู ุงูุฌููุฉ';
        }

        // ุฅูุตุงุก ูุงุนุจ
        function eliminatePlayer(player, reason = 'vote') {
            if (currentGame.alivePlayers.includes(player)) {
                currentGame.alivePlayers = currentGame.alivePlayers.filter(p => p !== player);
                currentGame.deadPlayers.push(player);
                currentGame.playerStats[player].eliminated++;
                
                if (reason === 'night') {
                    currentGame.playerStats[player].nightKills++;
                }
            }
        }

        // ุงุณุชุจุนุงุฏ ุงูุฃุฎุฑุณ
        function eliminateMute() {
            const mutePlayer = currentGame.alivePlayers.find(p => currentGame.roles[p] === 'mute');
            if (mutePlayer) {
                eliminatePlayer(mutePlayer, 'rule');
                document.getElementById('votingResult').textContent = `๐ค ${mutePlayer} (ุงูุฃุฎุฑุณ) ุชู ุงุณุชุจุนุงุฏู ูุฃูู ุชููู!`;
                document.getElementById('muteWarning').classList.add('hidden');
                currentGame.votingResult = mutePlayer;
                updateRefereeDisplay();
                showNotification(`${mutePlayer} ุชู ุงุณุชุจุนุงุฏู ูุฃูู ุชููู!`, 'warning');
            }
        }

        // ุจุฏุก ูุคูุช ุงูููุงุด
        function startDiscussionTimer() {
            if (currentGame.discussionTimerActive) {
                currentGame.discussionTimerActive = false;
            }
            
            let timeLeft = gameSettings.discussionTime;
            currentGame.discussionTimerActive = true;
            document.getElementById('startDiscussionBtn').disabled = true;
            document.getElementById('startDiscussionBtn').textContent = 'โณ ุงููุคูุช ูุนูู...';
            
            const timer = setInterval(() => {
                if (!currentGame.discussionTimerActive) {
                    clearInterval(timer);
                    return;
                }
                
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('discussionTimer').textContent = 
                    `${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                // ุชุบููุฑ ุงูููู ุนูุฏ ุงูุชุฑุงุจ ุงูุชูุงุก ุงูููุช
                const timerElement = document.getElementById('discussionTimer');
                if (timeLeft <= 30) {
                    timerElement.classList.add('text-red-600', 'pulse');
                } else if (timeLeft <= 60) {
                    timerElement.classList.add('text-yellow-600');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    currentGame.discussionTimerActive = false;
                    timerElement.textContent = 'โฐ ุงูุชูู ุงูููุช!';
                    timerElement.classList.add('text-red-600', 'glow');
                    document.getElementById('startDiscussionBtn').disabled = false;
                    document.getElementById('startDiscussionBtn').textContent = '๐ ุฅุนุงุฏุฉ ุชุดุบูู ุงููุคูุช';
                    showNotification('ุงูุชูู ููุช ุงูููุงุด!', 'warning');
                }
            }, 1000);
        }

        // ุงูุชูุงุก ุงูููุงุฑ
        function endDay() {
            if (!currentGame.votingResult) {
                showNotification('ูุฑุฌู ุงุฎุชูุงุฑ ูุชูุฌุฉ ุงูุชุตููุช ุฃููุงู', 'error');
                return;
            }
            
            if (currentGame.votingResult !== 'skip') {
                const eliminatedPlayer = currentGame.votingResult;
                const playerRole = currentGame.roles[eliminatedPlayer];
                
                // ุงูุชุญูู ูู ุงูููุชุญุฑ
                if (playerRole === 'bomber') {
                    // ุงูููุชุญุฑ ูุงุฒ!
                    document.getElementById('winner').innerHTML = `
                        <div class="text-4xl mb-2">๐ฃ</div>
                        <div class="text-2xl font-bold">${eliminatedPlayer} (ุงูููุชุญุฑ) ูุงุฒ!</div>
                        <div class="text-lg mt-2 opacity-90">ุญูู ูุฏูู ุจูุฌุงุญ ููุงุฒ ุถุฏ ุงูุฌููุน</div>
                    `;
                    showFinalResults();
                    return;
                }
                
                // ุฅูุตุงุก ุงููุงุนุจ
                eliminatePlayer(eliminatedPlayer);
                
                // ุงูุชุญูู ูู ุงูููุงุต
                if (playerRole === 'sniper') {
                    document.getElementById('sniperAction').classList.remove('hidden');
                    createSniperTargets();
                    return;
                }
            }
            
            // ุงูุชุญูู ูู ุงูุชูุงุก ุงููุนุจุฉ
            if (checkGameEnd()) {
                showFinalResults();
                return;
            }
            
            // ุงูุฌููุฉ ุงูุชุงููุฉ
            proceedToNextRound();
        }

        // ุฅูุดุงุก ุฃูุฏุงู ุงูููุงุต
        function createSniperTargets() {
            const container = document.getElementById('sniperTargets');
            if (!container) return;
            
            const availableTargets = currentGame.alivePlayers.filter(p => p !== currentGame.votingResult);
            
            container.innerHTML = availableTargets.map(player => 
                `<button onclick="sniperKill('${player}')" 
                         class="stat-card rounded-lg p-2 md:p-3 transition-all text-sm md:text-base font-bold border-2 border-red-400/50 hover:border-red-400 hover:scale-105 text-red-300">
                    ${player}
                </button>`
            ).join('');
        }

        // ูุชู ุงูููุงุต
        function sniperKill(target) {
            if (!currentGame.alivePlayers.includes(target)) return;
            
            eliminatePlayer(target, 'sniper');
            document.getElementById('sniperAction').classList.add('hidden');
            showNotification(`ุงูููุงุต ูุชู ${target} ูุจู ููุชู!`, 'warning');
            
            // ุงูุชุญูู ูู ุงูุชูุงุก ุงููุนุจุฉ
            if (checkGameEnd()) {
                showFinalResults();
                return;
            }
            
            // ูุชุงุจุนุฉ ุงููุนุจุฉ
            proceedToNextRound();
        }

        // ุงููุชุงุจุนุฉ ููุฌููุฉ ุงูุชุงููุฉ
        function proceedToNextRound() {
            // ุงูุชุญูู ูู ุงูุชูุงุก ุงููุนุจุฉ
            if (checkGameEnd()) {
                showFinalResults();
                return;
            }
            
            // ุงูุฌููุฉ ุงูุชุงููุฉ
            currentGame.round++;
            if (currentGame.round > gameSettings.rounds) {
                showFinalResults();
            } else {
                startNightPhase();
            }
        }

        // ุงูุชุญูู ูู ุงูุชูุงุก ุงููุนุจุฉ
        function checkGameEnd() {
            const aliveMafia = currentGame.alivePlayers.filter(p => currentGame.roles[p] === 'mafia').length;
            const aliveCitizens = currentGame.alivePlayers.filter(p => {
                const role = currentGame.roles[p];
                return roles[role] && roles[role].team === 'citizen';
            }).length;
            
            return aliveMafia === 0 || aliveMafia >= aliveCitizens || currentGame.alivePlayers.length <= 1;
        }

        // ุฅุธูุงุฑ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ
        function showFinalResults() {
            document.getElementById('refereeScreen').classList.add('hidden');
            document.getElementById('finalResultsScreen').classList.remove('hidden');
            
            // ุชุญุฏูุฏ ุงููุงุฆุฒ ูุน ุชูุณูุฑ ููุตู
            const aliveMafia = currentGame.alivePlayers.filter(p => currentGame.roles[p] === 'mafia').length;
            const aliveCitizens = currentGame.alivePlayers.filter(p => {
                const role = currentGame.roles[p];
                return roles[role] && roles[role].team === 'citizen';
            }).length;
            
            let winnerText = '';
            let winnerExplanation = '';
            let winnerEmoji = '';
            
            // ุงูุชุญูู ูู ุงูููุฒ ุงููุฑุฏู ุฃููุงู
            const survivorAlive = currentGame.alivePlayers.find(p => currentGame.roles[p] === 'survivor');
            if (survivorAlive && !document.getElementById('winner').innerHTML.includes('ุงูููุชุญุฑ')) {
                winnerEmoji = '๐งโ๐ค';
                winnerText = `${survivorAlive} (ุงููุงุฌู) ูุงุฒ!`;
                winnerExplanation = 'ุงููุงุฌู ุญูู ูุฏูู ุจุงูุจูุงุก ุญูุงู ุญุชู ููุงูุฉ ุงููุนุจุฉ';
            } else if (!document.getElementById('winner').innerHTML.includes('ุงูููุชุญุฑ')) {
                if (aliveMafia === 0) {
                    winnerEmoji = '๐';
                    winnerText = 'ุงููุฏูููู ุงูุชุตุฑูุง!';
                    winnerExplanation = 'ุชู ุงููุถุงุก ุนูู ุฌููุน ุฃุนุถุงุก ุงููุงููุง ุจูุฌุงุญ';
                } else if (aliveMafia >= aliveCitizens) {
                    winnerEmoji = '๐';
                    winnerText = 'ุงููุงููุง ูุงุฒุช!';
                    winnerExplanation = aliveCitizens === 0 ? 
                        'ุชู ุงููุถุงุก ุนูู ุฌููุน ุงููุฏูููู' : 
                        'ุนุฏุฏ ุงููุงููุง ุฃุตุจุญ ูุณุงููุงู ุฃู ุฃูุจุฑ ูู ุนุฏุฏ ุงููุฏูููู';
                } else if (currentGame.round > gameSettings.rounds) {
                    winnerEmoji = '๐ค';
                    winnerText = 'ุงูุชูุช ุงูุฌููุงุช - ุชุนุงุฏู!';
                    winnerExplanation = 'ุงูุชูุช ุฌููุน ุงูุฌููุงุช ุฏูู ุชุญููู ุฃู ูุฑูู ููููุฒ';
                } else {
                    winnerEmoji = '๐ค';
                    winnerText = 'ุชุนุงุฏู!';
                    winnerExplanation = 'ูู ูุญูู ุฃู ูุฑูู ุดุฑูุท ุงูููุฒ';
                }
                
                document.getElementById('winner').innerHTML = `
                    <div class="text-4xl md:text-6xl mb-4">${winnerEmoji}</div>
                    <div class="text-2xl md:text-4xl font-bold mb-2">${winnerText}</div>
                    <div class="text-lg md:text-xl opacity-90">${winnerExplanation}</div>
                `;
            }
            
            // ุญุณุงุจ ุงูุฅูุฌุงุฒุงุช
            calculateAchievements();
            
            // ุฅูุดุงุก ุฅุญุตุงุฆูุงุช ุงููุงุนุจูู
            createPlayerStats();
            
            // ุฅูุดุงุก ุฏููู ุงูุฅุนูุงู ููุญูู
            createAnnouncementGuide();
            
            // ุฅูุดุงุก ูุงุฆูุฉ ูุดู ุงูุฃุฏูุงุฑ
            createRoleRevealList();
        }

        // ุฅูุดุงุก ุฏููู ุงูุฅุนูุงู ููุญูู
        function createAnnouncementGuide() {
            const aliveMafia = currentGame.alivePlayers.filter(p => currentGame.roles[p] === 'mafia').length;
            const aliveCitizens = currentGame.alivePlayers.filter(p => {
                const role = currentGame.roles[p];
                return roles[role] && roles[role].team === 'citizen';
            }).length;
            
            let announcements = [];
            
            // ุฅุนูุงู ุงููุชูุฌุฉ ุงูุฑุฆูุณูุฉ
            const survivorAlive = currentGame.alivePlayers.find(p => currentGame.roles[p] === 'survivor');
            const bomberWon = document.getElementById('winner').innerHTML.includes('ุงูููุชุญุฑ');
            
            if (bomberWon) {
                const bomber = players.find(p => currentGame.roles[p] === 'bomber');
                announcements.push(`๐ฃ <strong>ุฃุนูู ููุฌููุน:</strong> "${bomber} (ุงูููุชุญุฑ) ูุงุฒ ุจุชุญููู ูุฏูู! ูุนุจุฉ ุฑุงุฆุนุฉ!"`);
            } else if (survivorAlive) {
                announcements.push(`๐งโ๐ค <strong>ุฃุนูู ููุฌููุน:</strong> "${survivorAlive} (ุงููุงุฌู) ูุงุฒ ุจุชุญููู ูุฏูู!"`);
            } else if (aliveMafia === 0) {
                announcements.push(`๐ <strong>ุฃุนูู ููุฌููุน:</strong> "ุงููุฏูููู ุงูุชุตุฑูุง! ุชู ุงููุถุงุก ุนูู ุฌููุน ุฃุนุถุงุก ุงููุงููุง!"`);
            } else if (aliveMafia >= aliveCitizens) {
                announcements.push(`๐ <strong>ุฃุนูู ููุฌููุน:</strong> "ุงููุงููุง ูุงุฒุช! ${aliveCitizens === 0 ? 'ุชู ุงููุถุงุก ุนูู ุฌููุน ุงููุฏูููู' : 'ุฃุตุจุญ ุนุฏุฏูู ูุณุงููุงู ุฃู ุฃูุจุฑ ูู ุงููุฏูููู'}!"`);
            }
            
            // ูุดู ุงูุฃุฏูุงุฑ
            announcements.push(`๐ญ <strong>ุงูุดู ุฌููุน ุงูุฃุฏูุงุฑ:</strong> "ุงูุขู ุณุฃูุดู ููู ุฃุฏูุงุฑ ุฌููุน ุงููุงุนุจูู ูู ูุฐู ุงูุฌููุฉ..."`);
            
            // ุฅุญุตุงุฆูุงุช ูููุฉ
            const survivors = currentGame.alivePlayers;
            const firstEliminated = currentGame.deadPlayers[0];
            
            if (survivors.length > 0) {
                announcements.push(`๐ก๏ธ <strong>ุงููุงุฌูู ุญุชู ุงูููุงูุฉ:</strong> ${survivors.join(', ')}`);
            }
            
            if (firstEliminated) {
                announcements.push(`๐ <strong>ุฃูู ูู ุฎุฑุฌ:</strong> ${firstEliminated}`);
            }
            
            // ูุตุงุฆุญ ููุญูู
            announcements.push(`<div class="bg-white/30 rounded-lg p-3 mt-4">
                <strong class="text-blue-800">๐ ูุตุงุฆุญ ูููุฉ ููุญูู:</strong>
                <ul class="text-sm mt-2 space-y-1">
                    <li>โข ูู ูุงุถุญุงู ูุนุงุฏูุงู ูู ุฅุนูุงู ุงููุชุงุฆุฌ</li>
                    <li>โข ุฃุนุทู ูู ูุงุนุจ ูุญุธุฉ ูุณูุงุน ุฏูุฑู ููุชูุฌุชู</li>
                    <li>โข ุงุณุฃู ุงููุงุนุจูู ุฅุฐุง ูุฑูุฏูู ุฅุนุงุฏุฉ ุงููุนุจ</li>
                    <li>โข ููููู ูุดุงุฑูุฉ ูุฐู ุงูุฅุญุตุงุฆูุงุช ูุนูู</li>
                    <li>โข ุชุฃูุฏ ูู ุฃู ุงูุฌููุน ุงุณุชูุชุน ุจุงููุนุจุฉ</li>
                </ul>
            </div>`);
            
            document.getElementById('announcementContent').innerHTML = 
                announcements.map(announcement => `<div class="bg-white/20 rounded-lg p-3 mb-2">${announcement}</div>`).join('');
        }

        // ุญุณุงุจ ุงูุฅูุฌุงุฒุงุช
        function calculateAchievements() {
            const achievements = [];
            
            // ุงููุงุฌูู
            if (currentGame.alivePlayers.length > 0) {
                achievements.push({
                    emoji: '๐ก๏ธ',
                    title: 'ุงููุงุฌูู',
                    subtitle: 'ุจููุง ุฃุญูุงุก',
                    players: currentGame.alivePlayers,
                    color: 'bg-green-500/20 border-green-400'
                });
            }
            
            // ุฃูู ูู ุฎุฑุฌ
            if (currentGame.deadPlayers.length > 0) {
                achievements.push({
                    emoji: '๐',
                    title: 'ุฃูู ุถุญูุฉ',
                    subtitle: 'ุฎุฑุฌ ุฃููุงู',
                    players: [currentGame.deadPlayers[0]],
                    color: 'bg-red-500/20 border-red-400'
                });
            }
            
            // ุฃุนุถุงุก ุงููุงููุง
            const mafiaPlayers = players.filter(p => currentGame.roles[p] === 'mafia');
            if (mafiaPlayers.length > 0) {
                achievements.push({
                    emoji: '๐ต๏ธโโ๏ธ',
                    title: 'ุงููุงููุง',
                    subtitle: 'ุงูุฃุดุฑุงุฑ',
                    players: mafiaPlayers,
                    color: 'bg-red-500/20 border-red-400'
                });
            }
            
            // ุงูุฃุฏูุงุฑ ุงูุฎุงุตุฉ
            const specialRoles = ['detective', 'doctor', 'sniper', 'oracle', 'bomber', 'survivor', 'mute', 'zombie', 'disguise'];
            specialRoles.forEach(roleKey => {
                const rolePlayers = players.filter(p => currentGame.roles[p] === roleKey);
                if (rolePlayers.length > 0) {
                    const role = roles[roleKey];
                    achievements.push({
                        emoji: role.emoji,
                        title: role.name,
                        subtitle: role.team === 'mafia' ? 'ุดุฑูุฑ' : role.team === 'citizen' ? 'ุจุทู' : 'ูุณุชูู',
                        players: rolePlayers,
                        color: `bg-${role.team === 'mafia' ? 'red' : role.team === 'citizen' ? 'green' : 'yellow'}-500/20 border-${role.team === 'mafia' ? 'red' : role.team === 'citizen' ? 'green' : 'yellow'}-400`
                    });
                }
            });
            
            // ุนุฑุถ ุงูุฅูุฌุงุฒุงุช
            const achievementsHtml = achievements.map(achievement => 
                `<div class="stat-card rounded-lg p-3 text-center border-2 ${achievement.color}">
                    <div class="text-2xl md:text-3xl mb-2">${achievement.emoji}</div>
                    <div class="font-bold text-sm md:text-base mb-1 text-white">${achievement.title}</div>
                    <div class="text-xs text-gray-400 mb-2">${achievement.subtitle}</div>
                    <div class="text-xs font-bold text-gray-300">${achievement.players.join(', ')}</div>
                </div>`
            ).join('');
            
            document.getElementById('achievementsList').innerHTML = achievementsHtml;
        }

        // ุฅูุดุงุก ุฅุญุตุงุฆูุงุช ุงููุงุนุจูู
        function createPlayerStats() {
            // ุชุฑุชูุจ ุงููุงุนุจูู: ุงูุฃุญูุงุก ุฃููุงูุ ุซู ุงูููุชู
            const sortedPlayers = [...currentGame.alivePlayers, ...currentGame.deadPlayers];
            
            const statsHtml = sortedPlayers.map(player => {
                const stats = currentGame.playerStats[player];
                const role = roles[currentGame.roles[player]];
                const isAlive = currentGame.alivePlayers.includes(player);
                
                // ุชุญุฏูุฏ ุฅูุฌุงุฒุงุช ุฎุงุตุฉ
                let specialAchievements = [];
                if (isAlive) {
                    specialAchievements.push('๐ก๏ธ ูุฌุง ุญุชู ุงูููุงูุฉ');
                }
                if (currentGame.deadPlayers[0] === player) {
                    specialAchievements.push('๐ ุฃูู ูู ุฎุฑุฌ');
                }
                if (currentGame.roles[player] === 'bomber' && 
                    document.getElementById('winner').innerHTML.includes('ุงูููุชุญุฑ')) {
                    specialAchievements.push('๐ฃ ุญูู ูุฏู ุงูููุชุญุฑ');
                }
                if (currentGame.roles[player] === 'survivor' && isAlive) {
                    specialAchievements.push('๐งโ๐ค ุญูู ูุฏู ุงููุงุฌู');
                }
                
                return `<div class="stat-card rounded-lg p-4 ${isAlive ? 'border-2 border-green-400 bg-green-500/10' : 'border border-red-400/50 bg-red-500/5'}">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg md:text-xl text-white">${player}</h4>
                        <div class="text-2xl md:text-3xl">${isAlive ? '๐ข' : '๐'}</div>
                    </div>
                    
                    <div class="space-y-3 text-sm md:text-base">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ุงูุฏูุฑ:</span>
                            <span class="font-bold ${role.color}">${role.emoji} ${role.name}</span>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ุงููุฑูู:</span>
                            <span class="font-bold ${role.team === 'mafia' ? 'text-red-400' : 
                                role.team === 'citizen' ? 'text-green-400' : 'text-yellow-400'}">
                                ${role.team === 'mafia' ? '๐ด ุงููุงููุง' : 
                                  role.team === 'citizen' ? '๐ข ุงููุฏูููู' : '๐ก ูุณุชูู'}
                            </span>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ูุฑุงุช ุงูุฅูุตุงุก:</span>
                            <span class="font-bold text-white">${stats.eliminated}</span>
                        </div>
                        
                        ${stats.nightKills > 0 ? `
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ููุชู ูููุงู:</span>
                            <span class="font-bold text-red-400">${stats.nightKills}</span>
                        </div>` : ''}
                        
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300">ุงูุญุงูุฉ ุงูููุงุฆูุฉ:</span>
                            <span class="font-bold ${isAlive ? 'text-green-400' : 'text-red-400'}">
                                ${isAlive ? 'โ ุญู' : 'โ ููุช'}
                            </span>
                        </div>
                        
                        ${specialAchievements.length > 0 ? `
                        <div class="mt-4 pt-3 border-t border-white/20">
                            <div class="text-xs text-gray-300 mb-2 font-bold">๐ ุงูุฅูุฌุงุฒุงุช:</div>
                            ${specialAchievements.map(achievement => 
                                `<div class="text-xs bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded mb-1 font-bold">${achievement}</div>`
                            ).join('')}
                        </div>` : ''}
                    </div>
                </div>`;
            }).join('');
            
            document.getElementById('playerStats').innerHTML = statsHtml;
        }

        // ุฅูุดุงุก ูุงุฆูุฉ ูุดู ุงูุฃุฏูุงุฑ
        function createRoleRevealList() {
            // ุชุฑุชูุจ ุงููุงุนุจูู ุญุณุจ ุงููุฑู
            const mafiaPlayers = players.filter(p => currentGame.roles[p] === 'mafia');
            const citizenPlayers = players.filter(p => {
                const role = currentGame.roles[p];
                return roles[role] && roles[role].team === 'citizen';
            });
            const independentPlayers = players.filter(p => {
                const role = currentGame.roles[p];
                return roles[role] && roles[role].team === 'independent';
            });
            
            let roleRevealHtml = '';
            
            // ุนุฑุถ ุงููุงููุง
            if (mafiaPlayers.length > 0) {
                roleRevealHtml += `<div class="bg-red-500/20 border-2 border-red-500/50 rounded-lg p-4">
                    <h4 class="font-bold text-red-400 mb-3 text-lg">๐ต๏ธโโ๏ธ ูุฑูู ุงููุงููุง</h4>
                    ${mafiaPlayers.map(player => {
                        const role = roles[currentGame.roles[player]];
                        const isAlive = currentGame.alivePlayers.includes(player);
                        return `<div class="text-sm md:text-base mb-1 ${isAlive ? 'text-white' : 'text-gray-400'}">${role.emoji} ${player} ${isAlive ? '(ุญู)' : '(ููุช)'}</div>`;
                    }).join('')}
                </div>`;
            }
            
            // ุนุฑุถ ุงููุฏูููู
            if (citizenPlayers.length > 0) {
                roleRevealHtml += `<div class="bg-green-500/20 border-2 border-green-500/50 rounded-lg p-4">
                    <h4 class="font-bold text-green-400 mb-3 text-lg">๐งโ๐คโ๐ง ูุฑูู ุงููุฏูููู</h4>
                    ${citizenPlayers.map(player => {
                        const role = roles[currentGame.roles[player]];
                        const isAlive = currentGame.alivePlayers.includes(player);
                        return `<div class="text-sm md:text-base mb-1 ${isAlive ? 'text-white' : 'text-gray-400'}">${role.emoji} ${player} - ${role.name} ${isAlive ? '(ุญู)' : '(ููุช)'}</div>`;
                    }).join('')}
                </div>`;
            }
            
            // ุนุฑุถ ุงูุฃุฏูุงุฑ ุงููุณุชููุฉ
            if (independentPlayers.length > 0) {
                roleRevealHtml += `<div class="bg-yellow-500/20 border-2 border-yellow-500/50 rounded-lg p-4">
                    <h4 class="font-bold text-yellow-400 mb-3 text-lg">โญ ุงูุฃุฏูุงุฑ ุงููุณุชููุฉ</h4>
                    ${independentPlayers.map(player => {
                        const role = roles[currentGame.roles[player]];
                        const isAlive = currentGame.alivePlayers.includes(player);
                        return `<div class="text-sm md:text-base mb-1 ${isAlive ? 'text-white' : 'text-gray-400'}">${role.emoji} ${player} - ${role.name} ${isAlive ? '(ุญู)' : '(ููุช)'}</div>`;
                    }).join('')}
                </div>`;
            }
            
            document.getElementById('roleRevealList').innerHTML = roleRevealHtml;
        }

        // ุฅุนุงุฏุฉ ุงููุนุจ
        function playAgain() {
            // ุฅุนุงุฏุฉ ุชุนููู ูุชุบูุฑุงุช ุงููุนุจุฉ
            currentGame = {
                round: 1,
                phase: 'night',
                currentPlayerIndex: 0,
                roles: {},
                alivePlayers: [],
                deadPlayers: [],
                playerStats: {},
                nightActions: {
                    mafiaKill: null,
                    doctorSave: null,
                    detectiveCheck: null,
                    oracleCheck: null
                },
                votingResult: null,
                specialAbilities: {
                    zombieRevived: false,
                    disguiseUsed: false
                },
                discussionTimerActive: false
            };
            
            showNotification('ุจุฏุก ูุนุจุฉ ุฌุฏูุฏุฉ ุจููุณ ุงููุงุนุจูู!', 'success');
            startGame();
        }

        // ูุนุจุฉ ุฌุฏูุฏุฉ
        function newGame() {
            // ุฅุนุงุฏุฉ ุชุนููู ูู ุดูุก
            players = [];
            gameSettings = {
                rounds: 5,
                discussionTime: 120,
                enabledRoles: []
            };
            currentGame = {
                round: 1,
                phase: 'night',
                currentPlayerIndex: 0,
                roles: {},
                alivePlayers: [],
                deadPlayers: [],
                playerStats: {},
                nightActions: {
                    mafiaKill: null,
                    doctorSave: null,
                    detectiveCheck: null,
                    oracleCheck: null
                },
                votingResult: null,
                specialAbilities: {
                    zombieRevived: false,
                    disguiseUsed: false
                },
                discussionTimerActive: false
            };
            
            // ุฅุนุงุฏุฉ ุชุนููู ุงูุฃุฏูุงุฑ ุงููุฎุชุงุฑุฉ
            document.querySelectorAll('#rolesConfig input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            
            // ุงูุนูุฏุฉ ูุดุงุดุฉ ุงูุจุฏุงูุฉ
            document.getElementById('finalResultsScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
            updatePlayersList();
            updateStartButton();
            
            showNotification('ูุฑุญุจุงู ุจู ูู ูุนุจุฉ ุฌุฏูุฏุฉ!', 'success');
        }

        // ุฅุถุงูุฉ ูุณุชูุน ููุถุบุท ุนูู Enter
        document.getElementById('playerNameInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addPlayer();
            }
        });

        // ุชุญุฏูุซ ุฒุฑ ุงูุจุฏุงูุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        document.addEventListener('DOMContentLoaded', function() {
            updateStartButton();
            
            // ุฅุถุงูุฉ ุชุฃุซูุฑุงุช ุจุตุฑูุฉ ููุฎูููุฉ
            const body = document.body;
            body.addEventListener('mousemove', function(e) {
                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;
                
                body.style.background = `
                    radial-gradient(circle at ${mouseX * 100}% ${mouseY * 100}%, 
                    rgba(139, 69, 19, 0.1) 0%, 
                    transparent 50%), 
                    linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #533483 100%)
                `;
            });
        });

    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a05d6666b2ce18',t:'MTc1NDMzNDczMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
